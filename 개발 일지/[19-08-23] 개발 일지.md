### 오늘 개발 목표
* UserLogin, UserList 요청 처리

### 작업 내용
* LoginController, UserListConroller 역할 분리

### 느낀점

* **김태수**

    > 401 응답의 경우 401 웹 페이지(에러 페이지)를 뿌려주는게 일반적이다.
      그러나 401 페이지를 보여주는 것은 사용자 입장에서 좋은 응답이 아니기 때문에 401 에러에 대한 추가 응답 처리가 필요하다고 본다.
      예로, 로그인을 해야 접근할 수 있는 웹 페이지에 대해 로그인 안한 유저가 접근할 시, 로그인 페이지로 redirect할 수 있게끔 처리하는 경우가 있겠다.
      
    > LoginController에서 로그인을 시도한 사용자의 id,pw를 통해 유효성 검사하는 부분에서 많은 고민이 있었다.
      처음에는 UserService에서 유효성 검사 결과를 true/false 타입으로 반환하여 컨트롤러에서 해당 값에 맞는 웹 페이지를 응답하게끔 구현했다.
      지금 당장은 기능에 문제가 없겠지만, 추후 세션체크 기능을 구현할 때 컨트롤러에서 user객체를 사용하기 위해 별도의 로직(DB에서 User를 가져오는)이 필요해진다.
      이는 애초에 UserService에서 로그인 유효성 검사 후 User객체를 반환하게 끔 하면, 추가 로직이 필요 없어진다고 판단했다.
      물론 로그인 실패 시, User객체에는 null값이 들어간다.
      이를 통해 컨트롤러에서 null체크 분기를 통해 웹 페이지를 응답하게끔 최종 구현하였다. 추후, 세션기능을 구현할 때 로그인시 반환받은 User객체를 활용하면 되기 때문이다.
      지금까지 리팩토링 과정을 거치면서, 기존 ReqeustHandler에 있던 많은 로직들이 역할에 따른 객체 분리를 통해 깔끔히 정리되었다.
      리팩토링의 중요성을 깨달았다.



* **김성렬**

    > LoginController에서 사용자가 입력한 유저와 패스워드가 올바르게 입력한 것을 토대로 둘다 일치 하면 응답 메시지에 set-Cookie
     에 로그인이 되었는지 loginded=true속성값을 주고 둘 중 하나가 일치하지 않으면 logined=false속성값을 주었습니다. 이를 통해 유저의 상태 정보를
     알 수 있다는 것을 확인했습니다. UserListController에서 디비에서 있는 유저 정보를 list.html에 가공하여 적절한 위치에 배치하여 동적인 페이지를 응답으로 보내주었습니다.
     동적으로 만들어 주는 페이지를 넘기므로 forwardBody메서드를 만들어 responseBody에 동적으로 만든 페이지 소스를 넘겨 주어 반환하도록 하였습니다. 



* **성건희**
   
    > 로그인 처리과정을 LoginController 로 별도로 분리하여 Cookie값을 통해 로그인 처리를 확인하도록 리팩토링 하였습니다. 유저 목록을 보여주는 작업은 UserListController로 분리하였습니다. UserList 페이지 이동 시 로그인을 했다면 페이지를 라인별로 만들어서 데이터베이스의 전체 유저 목록을 불러와 동적으로 페이지를 만들 수 있도록 구현하였습니다. 로그인 상태가 아니라면 로그인 페이지로 이동하도록 구현하여 역할을 분담하였습니다. 이러한 작업들을 거치고 나니 기존에 RequestHandler에서 if-else문을 써가며 코드가 지저분했었는데 깔끔하게 해결할 수 있었습니다.

